$('#alert').hide();
$('#notice').hide();

$('html,body').animate({ scrollTop: $("#current_product").offset().top }, 'slow');

$("#current_product").html("<%= escape_javascript(render partial: 'products/show', locals: { product: @product, supercategories: @supercategories, wiki: @wiki, products: @products, product_tree: @product_tree } ) %>");

document.title = '<%=content_for?(:html_title) ? yield(:html_title) + " | LiveLCA" : "LiveLCA"%>'
document.querySelector('meta[name="description"]').setAttribute("content", '<%= content_for?(:meta_description) ? j(yield(:meta_description)) : default_meta_description %>');

if ($("#sources_table_wrapper").length == 0) {
  $('#sources_table').DataTable({
    "pageLength": 25,
    "stateSave": true,
    "order": [[ 4, "desc" ]],
    "columnDefs": [ 
      { "targets": 0, "orderable": false }
    ]
  });
}
